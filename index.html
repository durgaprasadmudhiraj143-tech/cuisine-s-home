<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide to Indian Cuisine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Earth -->
    <!-- Application Structure Plan: The application is designed as a top-down exploratory tool, prioritizing user-driven discovery over a linear report structure. It's built in three main thematic sections: 1. A welcome/introduction. 2. A highly-interactive "Dish Explorer" featuring a filterable grid of food cards. This is the core of the app, allowing users to browse by region or food type, and click to open a modal for detailed information. This is superior to a static list as it encourages active exploration. 3. A "Data Insights" dashboard. This section groups all quantitative data, presenting it as interactive charts. A key interaction is the "Flavor Profile" radar chart, which dynamically updates based on a user's dropdown selection, allowing for direct comparison. This structure guides the user from a broad overview to specific exploration, and finally to analytical insights, providing a comprehensive and engaging experience. -->
    <!-- Visualization & Content Choices: 
        - Report Info (List of Dishes): Goal: Browse/Discover. Viz: Filterable Grid of HTML "Food Cards". Interaction: Click-to-filter by region/type (JS toggles visibility); Click card button for details. Justification: User-driven, non-linear exploration. Library: Vanilla JS.
        - Report Info (Dish Details): Goal: Inform (on-demand). Viz: HTML/Tailwind Modal. Interaction: Triggered by card button, closed by 'x' button or background click. Justification: Progressive disclosure, keeps main UI clean. Library: Vanilla JS.
        - Report Info (Online Search Popularity): Goal: Show part-to-whole proportions. Viz: Pie Chart. Interaction: Hover for tooltips. Justification: Standard for showing market share/popularity. Library: Chart.js (Canvas).
        - Report Info (Perceived Spice Level): Goal: Compare single metric across items. Viz: Horizontal Bar Chart. Interaction: Hover for tooltips. Justification: Clear comparison, handles long labels well. Library: Chart.js (Canvas).
        - Report Info (Flavor Profile Analysis): Goal: Compare multi-dimensional attributes. Viz: Radar Chart. Interaction: Dropdown <select> element triggers JS function to update chart data (`chart.update()`). Justification: Ideal for multi-point comparison; interaction makes it a powerful exploratory tool vs. a static report. Library: Chart.js (Canvas) + Vanilla JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .modal {
            transition: opacity 0.25s ease, visibility 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .filter-btn.active {
            background-color: #c2410c;
            color: #ffffff;
            font-weight: 600;
        }
        .filter-btn {
            transition: all 0.2s ease-in-out;
        }
        .dish-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
        }
        .dish-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-900 leading-relaxed">

    <header class="bg-white shadow-md sticky top-0 z-40">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0 flex items-center">
                    <span class="text-3xl mr-2">üçõ</span>
                    <h1 class="text-xl font-bold text-orange-700">Interactive Guide to Indian Cuisine</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button data-target="home" class="nav-link text-gray-700 hover:bg-orange-100 hover:text-orange-700 px-3 py-2 rounded-md text-sm font-medium">Home</button>
                        <button data-target="explorer" class="nav-link text-gray-700 hover:bg-orange-100 hover:text-orange-700 px-3 py-2 rounded-md text-sm font-medium">Dish Explorer</button>
                        <button data-target="insights" class="nav-link text-gray-700 hover:bg-orange-100 hover:text-orange-700 px-3 py-2 rounded-md text-sm font-medium">Data Insights</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8">

        <section id="home" class="text-center py-12 md:py-20">
            <h2 class="text-4xl font-bold tracking-tight text-orange-900 sm:text-5xl">A Journey Through India's Flavors</h2>
            <p class="mt-6 text-lg leading-8 text-gray-700 max-w-3xl mx-auto">
                Welcome to this interactive guide to India's vast and vibrant culinary landscape. Indian cuisine is a rich tapestry of flavors, ingredients, and techniques, varying dramatically from one region to another. This application allows you to explore famous dishes, filter by your interests, and discover data-driven insights into what makes this food so beloved.
            </p>
        </section>

        <div class="border-t border-orange-200 my-8"></div>

        <section id="explorer" class="py-12">
            <h2 class="text-3xl font-bold text-center text-orange-900 mb-4">Dish Explorer</h2>
            <p class="text-center text-gray-700 max-w-3xl mx-auto mb-10">
                This section allows you to actively explore India's diverse dishes. Use the filters below to sort by region or food type to narrow down your search. Click on any dish card to open a detailed view with its description, key ingredients, and flavor profile.
            </p>

            <div class="flex flex-wrap gap-4 mb-8 justify-center">
                <div>
                    <span class="text-sm font-semibold text-gray-700 mr-2">Region:</span>
                    <button class="filter-btn active bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="region" data-filter-value="all">All</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="region" data-filter-value="north">North</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="region" data-filter-value="south">South</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="region" data-filter-value="east">East</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="region" data-filter-value="west">West</button>
                </div>
                <div>
                    <span class="text-sm font-semibold text-gray-700 mr-2">Type:</span>
                    <button class="filter-btn active bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="type" data-filter-value="all">All</D>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="type" data-filter-value="main">Main</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="type" data-filter-value="snack">Snack</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="type" data-filter-value="dessert">Dessert</button>
                    <button class="filter-btn bg-white border border-gray-300 text-gray-700 px-4 py-1 rounded-full text-sm" data-filter-group="type" data-filter-value="bread">Bread</button>
                </div>
            </div>

            <div id="dish-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="north" data-type="main" data-spice="mild">
                    <span class="text-6xl mb-2">üçó</span>
                    <h3 class="text-xl font-semibold text-orange-800">Butter Chicken</h3>
                    <p class="text-sm text-gray-600 mt-2">A creamy, tangy, and mildly spiced tomato-based curry with tender chicken pieces.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">North</span>
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Main</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="butter-chicken">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="south" data-type="main" data-spice="medium">
                    <span class="text-6xl mb-2">ü•ò</span>
                    <h3 class="text-xl font-semibold text-orange-800">Hyderabadi Biryani</h3>
                    <p class="text-sm text-gray-600 mt-2">A fragrant rice dish cooked with marinated meat or vegetables, saffron, and whole spices.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full">South</span>
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Main</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="biryani">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="north" data-type="snack" data-spice="medium">
                    <span class="text-6xl mb-2">ü•ü</span>
                    <h3 class="text-xl font-semibold text-orange-800">Samosa</h3>
                    <p class="text-sm text-gray-600 mt-2">A popular triangular pastry, deep-fried and filled with spiced potatoes, peas, and lentils.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">North</span>
                        <span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Snack</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="samosa">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="south" data-type="snack" data-spice="medium">
                    <span class="text-6xl mb-2">ü•û</span>
                    <h3 class="text-xl font-semibold text-orange-800">Masala Dosa</h3>
                    <p class="text-sm text-gray-600 mt-2">A thin, crispy fermented crepe made from rice and lentils, filled with spiced potatoes.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full">South</span>
                        <span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Snack</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="dosa">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="west" data-type="snack" data-spice="mild">
                    <span class="text-6xl mb-2">ü•™</span>
                    <h3 class="text-xl font-semibold text-orange-800">Vada Pav</h3>
                    <p class="text-sm text-gray-600 mt-2">A humble street food. A spicy potato fritter (vada) stuffed in a bread bun (pav).</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full">West</span>
                        <span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Snack</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="vada-pav">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="east" data-type="dessert" data-spice="none">
                    <span class="text-6xl mb-2">üçÆ</span>
                    <h3 class="text-xl font-semibold text-orange-800">Mishti Doi</h3>
                    <p class="text-sm text-gray-600 mt-2">A fermented sweet yogurt, caramelized sugar, and milk, set in earthenware pots.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-pink-100 text-pink-800 text-xs font-medium px-2.5 py-0.5 rounded-full">East</span>
                        <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Dessert</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="mishti-doi">Learn More</button>
                </div>

                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="north" data-type="bread" data-spice="none">
                    <span class="text-6xl mb-2">üçû</span>
                    <h3 class="text-xl font-semibold text-orange-800">Naan</h3>
                    <p class="text-sm text-gray-600 mt-2">A leavened, oven-baked flatbread, traditionally cooked in a tandoor oven.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">North</span>
                        <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Bread</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="naan">Learn More</button>
                </div>
                
                <div class="dish-card bg-white rounded-lg shadow-md p-5 flex-col items-center text-center" data-region="east" data-type="dessert" data-spice="none">
                    <span class="text-6xl mb-2">üç•</span>
                    <h3 class="text-xl font-semibold text-orange-800">Jalebi</h3>
                    <p class="text-sm text-gray-600 mt-2">A pretzel-shaped, deep-fried batter soaked in sweet, sticky sugar syrup.</p>
                    <div class="flex gap-2 mt-4">
                        <span class="bg-pink-100 text-pink-800 text-xs font-medium px-2.5 py-0.5 rounded-full">East</span>
                        <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Dessert</span>
                    </div>
                    <button class="open-modal-btn mt-5 bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-orange-700" data-dish-id="jalebi">Learn More</button>
                </div>

            </div>
        </section>

        <div class="border-t border-orange-200 my-8"></div>

        <section id="insights" class="py-12">
            <h2 class="text-3xl font-bold text-center text-orange-900 mb-4">Culinary Data Insights</h2>
            <p class="text-center text-gray-700 max-w-3xl mx-auto mb-10">
                Beyond individual dishes, this section provides a look at broader culinary trends. Explore data on which dishes are most popular online, their perceived spice levels, and a detailed breakdown of their complex flavor profiles.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-center mb-4 text-orange-800">Online Search Popularity</h3>
                    <p class="text-sm text-gray-600 text-center mb-4">A look at the relative search interest for key Indian dishes over the last 12 months, showing what people are most curious about.</p>
                    <div class="chart-container">
                        <canvas id="popularityChart"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold text-center mb-4 text-orange-800">Perceived Spice Level (Survey)</h3>
                    <p class="text-sm text-gray-600 text-center mb-4">Based on a survey of 500 diners, this chart shows the average perceived spice level (out of 10) for various dishes, from mild to fiery.</p>
                    <div class="chart-container">
                        <canvas id="spiceChart"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md lg:col-span-2">
                    <h3 class="text-xl font-semibold text-center mb-2 text-orange-800">Interactive Flavor Profile Explorer</h3>
                    <p class="text-sm text-gray-600 text-center mb-4">Select a dish from the dropdown to see its expert-rated flavor profile. This visualization helps you understand the balance of tastes in each dish.</p>
                    <div class="max-w-xs mx-auto mb-4">
                        <label for="flavor-select" class="block text-sm font-medium text-gray-700 mb-1">Select a dish:</label>
                        <select id="flavor-select" class="w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option value="butter-chicken" selected>Butter Chicken</option>
                            <option value="samosa">Samosa</option>
                            <option value="dosa">Masala Dosa</option>
                            <option value="jalebi">Jalebi</option>
                            <option value="vada-pav">Vada Pav</option>
                        </select>
                    </div>
                    <div class="chart-container" style="max-width: 550px;">
                        <canvas id="flavorChart"></canvas>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="bg-orange-800 mt-16">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-orange-100 text-sm">Created By R durga Prasad.</p>
        </div>
    </footer>

    <div id="dish-modal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4 opacity-0 visibility-hidden">
        <div class="modal-content bg-white rounded-lg shadow-2xl w-full max-w-md p-6 relative transform scale-95">
            <button id="close-modal-btn" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700">
                <span class="text-2xl">&times;</span>
            </button>
            <div id="modal-content-inner">
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const dishData = {
                'butter-chicken': {
                    name: 'Butter Chicken (Murgh Makhani)',
                    emoji: 'üçó',
                    description: 'A world-famous dish of tender chicken pieces cooked in a rich, creamy, and mildly spiced tomato and butter sauce. It\'s known for its complex, layered flavors that are tangy, sweet, and savory.',
                    ingredients: 'Chicken, Tomato Puree, Cream, Butter, Ginger, Garlic, Garam Masala, Kasuri Methi (Fenugreek Leaves).',
                    profile: 'Mildly spicy, very creamy, slightly sweet and tangy.'
                },
                'biryani': {
                    name: 'Hyderabadi Biryani',
                    emoji: 'ü•ò',
                    description: 'A regal dish from Hyderabad, this Biryani is made using the "kachchi" (raw) method, where marinated meat is layered with partially cooked basmati rice and slow-cooked in a sealed pot (dum).',
                    ingredients: 'Basmati Rice, Goat Meat or Chicken, Yogurt, Onions, Saffron, Ghee, Whole Spices (Cardamom, Clove, Cinnamon).',
                    profile: 'Highly aromatic, moderately spicy, and complex.'
                },
                'samosa': {
                    name: 'Samosa',
                    emoji: 'ü•ü',
                    description: 'A beloved triangular, deep-fried pastry. The crispy outer shell gives way to a savory, spicy filling of potatoes, peas, and sometimes minced meat. Often served with mint or tamarind chutneys.',
                    ingredients: 'Flour, Potatoes, Peas, Cumin Seeds, Coriander, Green Chilies, Ginger.',
                    profile: 'Crispy, savory, and moderately spicy.'
                },
                'dosa': {
                    name: 'Masala Dosa',
                    emoji: 'ü•û',
                    description: 'A staple of South Indian cuisine, this is a thin, crispy crepe made from a fermented batter of rice and lentils. The "Masala" version is filled with a lightly spiced potato and onion mixture.',
                    ingredients: 'Rice, Urad Dal (Black Lentils), Potatoes, Onions, Mustard Seeds, Turmeric, Curry Leaves.',
                    profile: 'Crispy and savory crepe with a soft, mildly spiced filling.'
                },
                'vada-pav': {
                    name: 'Vada Pav',
                    emoji: 'ü•™',
                    description: 'The iconic street food of Mumbai, often called the "Indian burger." It consists of a spicy deep-fried potato fritter (vada) tucked inside a soft bread bun (pav), served with various chutneys.',
                    ingredients: 'Potatoes, Gram Flour, Green Chilies, Garlic, Mustard Seeds, Turmeric, Bread Buns.',
                    profile: 'Soft, spicy, and savory, with tangy and hot chutneys.'
                },
                'mishti-doi': {
                    name: 'Mishti Doi',
                    emoji: 'üçÆ',
                    description: 'A classic Bengali dessert, this is a fermented sweet yogurt. Milk is sweetened (often with jaggery or caramelized sugar), reduced, and then set in traditional earthenware pots, which helps absorb moisture.',
                    ingredients: 'Milk, Yogurt Culture, Sugar or Jaggery.',
                    profile: 'Sweet, creamy, and mildly tangy with a caramel-like flavor.'
                },
                'naan': {
                    name: 'Naan',
                    emoji: 'üçû',
                    description: 'A soft, chewy, and leavened flatbread. Unlike roti, naan is typically made with all-purpose flour (maida) and yeast or yogurt. It is traditionally baked in a tandoor (clay oven).',
                    ingredients: 'All-Purpose Flour, Yeast or Yogurt, Milk, Ghee or Butter.',
                    profile: 'Soft, chewy, and slightly smoky when from a tandoor.'
                },
                'jalebi': {
                    name: 'Jalebi',
                    emoji: 'üç•',
                    description: 'A popular dessert across India, made by deep-frying a fermented batter in pretzel-like or circular shapes. These are then soaked in a warm, sweet sugar syrup, often flavored with cardamom or saffron.',
                    ingredients: 'All-Purpose Flour, Yeast, Sugar, Saffron, Cardamom, Ghee (for frying).',
                    profile: 'Crispy, chewy, and intensely sweet.'
                }
            };
            
            const flavorProfileData = {
                'butter-chicken': { name: 'Butter Chicken', data: [8, 3, 9, 5] },
                'samosa': { name: 'Samosa', data: [3, 7, 2, 8] },
                'dosa': { name: 'Masala Dosa', data: [2, 6, 2, 7] },
                'jalebi': { name: 'Jalebi', data: [10, 0, 1, 2] },
                'vada-pav': { name: 'Vada Pav', data: [1, 8, 1, 8] }
            };

            function formatLabel(str, maxLen) {
                if (str.length <= maxLen) return str;
                const parts = str.split(' ');
                let lines = [];
                let currentLine = '';
                for (const part of parts) {
                    if ((currentLine + part).length <= maxLen) {
                        currentLine += part + ' ';
                    } else {
                        lines.push(currentLine.trim());
                        currentLine = part + ' ';
                    }
                }
                lines.push(currentLine.trim());
                return lines;
            }

            function initPopularityChart() {
                const ctx = document.getElementById('popularityChart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Biryani', 'Butter Chicken', 'Masala Dosa', 'Samosa', 'Paneer Tikka', 'Others'],
                        datasets: [{
                            label: 'Online Search Popularity',
                            data: [35, 20, 15, 10, 10, 10],
                            backgroundColor: [
                                '#ea580c', '#f97316', '#fb923c', '#fdba74', '#fed7aa', '#ffedd5'
                            ],
                            borderColor: '#ffffff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: { size: 11 },
                                    boxWidth: 15,
                                    padding: 15
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function initSpiceChart() {
                const ctx = document.getElementById('spiceChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Dhokla', 'Jalebi', 'Butter Chicken', 'Masala Dosa', 'Rogan Josh', 'Vindaloo'],
                        datasets: [{
                            label: 'Perceived Spice Level (out of 10)',
                            data: [1, 0, 3, 5, 7, 9.5],
                            backgroundColor: '#f97316',
                            borderColor: '#c2410c',
                            borderWidth: 1,
                            borderRadius: 4
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                beginAtZero: true,
                                max: 10,
                                grid: {
                                    display: true,
                                    color: '#f3f4f6'
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw} / 10`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            let flavorChart;
            function initFlavorChart() {
                const ctx = document.getElementById('flavorChart').getContext('2d');
                const initialData = flavorProfileData['butter-chicken'];
                flavorChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Sweet', 'Spicy', 'Creamy', 'Savory/Tangy'],
                        datasets: [{
                            label: initialData.name,
                            data: initialData.data,
                            fill: true,
                            backgroundColor: 'rgba(249, 115, 22, 0.2)',
                            borderColor: 'rgb(249, 115, 22)',
                            pointBackgroundColor: 'rgb(249, 115, 22)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(249, 115, 22)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    stepSize: 2,
                                    backdropColor: 'transparent',
                                    color: '#4b5563',
                                    font: { size: 10 }
                                },
                                grid: {
                                    color: '#e5e7eb'
                                },
                                pointLabels: {
                                    font: {
                                        size: 13,
                                        weight: '600'
                                    },
                                    color: '#1f2937'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: { size: 12 },
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            document.getElementById('flavor-select').addEventListener('change', (e) => {
                const selectedDish = e.target.value;
                const newData = flavorProfileData[selectedDish];
                if (flavorChart && newData) {
                    flavorChart.data.datasets[0].label = newData.name;
                    flavorChart.data.datasets[0].data = newData.data;
                    flavorChart.update();
                }
            });

            const modal = document.getElementById('dish-modal');
            const modalContentInner = document.getElementById('modal-content-inner');
            const closeModalBtn = document.getElementById('close-modal-btn');

            function openModal(dishId) {
                const data = dishData[dishId];
                if (!data) return;
                
                modalContentInner.innerHTML = `
                    <h2 class="text-3xl font-bold text-orange-800 mb-4">${data.name} <span class="text-4xl">${data.emoji}</span></h2>
                    <p class="text-gray-700 mb-4">${data.description}</p>
                    <h4 class="text-lg font-semibold text-gray-800 mb-2">Key Ingredients:</h4>
                    <p class="text-sm text-gray-600 mb-4">${data.ingredients}</p>
                    <h4 class="text-lg font-semibold text-gray-800 mb-2">Flavor Profile:</h4>
                    <p class="text-sm text-gray-600">${data.profile}</p>
                `;
                
                modal.classList.remove('opacity-0', 'visibility-hidden');
                modal.querySelector('.modal-content').classList.remove('scale-95');
                modal.querySelector('.modal-content').classList.add('scale-100');
            }

            function closeModal() {
                modal.classList.add('opacity-0');
                modal.querySelector('.modal-content').classList.add('scale-95');
                modal.querySelector('.modal-content').classList.remove('scale-100');
                setTimeout(() => {
                    modal.classList.add('visibility-hidden');
                }, 250);
            }

            document.querySelectorAll('.open-modal-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    openModal(btn.dataset.dishId);
                });
            });

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            const currentFilters = { region: 'all', type: 'all' };
            const filterButtons = document.querySelectorAll('.filter-btn');
            const dishGrid = document.getElementById('dish-grid');
            const dishCards = dishGrid.querySelectorAll('.dish-card');

            function applyFilters() {
                dishCards.forEach(card => {
                    const regionMatch = currentFilters.region === 'all' || card.dataset.region === currentFilters.region;
                    const typeMatch = currentFilters.type === 'all' || card.dataset.type === currentFilters.type;

                    if (regionMatch && typeMatch) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }

            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const group = btn.dataset.filterGroup;
                    const value = btn.dataset.filterValue;

                    currentFilters[group] = value;
                    
                    document.querySelectorAll(`.filter-btn[data-filter-group="${group}"]`).forEach(b => {
                        b.classList.remove('active');
                    });
                    btn.classList.add('active');

                    applyFilters();
                });
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.dataset.target;
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            initPopularityChart();
            initSpiceChart();
            initFlavorChart();
        });
    </script>
</body>
</html>